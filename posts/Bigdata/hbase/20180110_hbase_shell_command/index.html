<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[HBase] hbase shell command, HBase ëª…ë ¹ì–´ - PS Tech study</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[HBase] hbase shell command, HBase ëª…ë ¹ì–´" />
<meta property="og:description" content="ğŸ¬ HBase shellì„ í†µí•´ ìˆ˜í–‰ë˜ëŠ” operationì„ í†µí•´ì„œ HBaseì—ì„œ ì œê³µí•˜ëŠ” ê¸°ì´ˆì ì¸ ê¸°ëŠ¥ ë° ì‚¬ìš©ëª©ì ì„ ì´í•´í•˜ê³ ì ì‘ì„±í•˜ì˜€ë‹¤ .
 2021.05 // ë²„ì „ì— ë”°ë¼ ëª…ë ¹ì–´ê°€ ìƒì´í•  ìˆ˜ ìˆë‹¤. ìµœì‹  HBase ë²„ì „ 2.x ì˜ shell commandëŠ” ì°¨í›„ ì¶”ê°€í•  ì˜ˆì •   1) General HBase shell commands status : cluster ìƒíƒœë¥¼ ë³´ì—¬ì£¼ë©°, ì¶”ê°€ì˜µì…˜ì„ í†µí•´ ìƒì„¸ì •ë³´ë¥¼ í™•ì¸
&gt; status &gt; status &#39;simple&#39; &gt; status &#39;summary&#39; &gt; status &#39;detailed&#39; version : ì„¤ì¹˜ëœ HBaseì˜ ë²„ì „ì •ë³´ë¥¼ í™•ì¸
&gt; version whoami : í˜„ì¬ hbaseì˜ ì‚¬ìš©ìë¥¼ í™•ì¸" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bigdata/hbase/20180110_hbase_shell_command/" />
<meta property="article:published_time" content="2018-01-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-01-10T00:00:00+00:00" />

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'G-TEFH3VCWGN', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="PS KIM" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">PS KIM</div>
					<div class="logo__tagline">ê¸°ìˆ  í•™ìŠµ ë¸”ë¡œê·¸</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[HBase] hbase shell command, HBase ëª…ë ¹ì–´</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2018-01-10T00:00:00Z">January 10, 2018</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/bigdata/" rel="category">Bigdata</a>
	</span>
</div></div>
		</header><div class="content post__content clearfix">
			<p>ğŸ¬  HBase shellì„ í†µí•´ ìˆ˜í–‰ë˜ëŠ” operationì„ í†µí•´ì„œ HBaseì—ì„œ ì œê³µí•˜ëŠ” ê¸°ì´ˆì ì¸ ê¸°ëŠ¥ ë° ì‚¬ìš©ëª©ì ì„ ì´í•´í•˜ê³ ì ì‘ì„±í•˜ì˜€ë‹¤ .</p>
<ul>
<li>2021.05 // ë²„ì „ì— ë”°ë¼ ëª…ë ¹ì–´ê°€ ìƒì´í•  ìˆ˜ ìˆë‹¤. ìµœì‹  HBase ë²„ì „ 2.x ì˜ shell commandëŠ” ì°¨í›„ ì¶”ê°€í•  ì˜ˆì •</li>
</ul>
<hr>
<h2 id="1-general-hbase-shell-commands"><strong>1) General HBase shell commands</strong></h2>
<h4 id="status"><strong>status</strong></h4>
<p>: cluster ìƒíƒœë¥¼ ë³´ì—¬ì£¼ë©°, ì¶”ê°€ì˜µì…˜ì„ í†µí•´ ìƒì„¸ì •ë³´ë¥¼ í™•ì¸</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; status 
&gt; status <span style="color:#e6db74">&#39;simple&#39;</span> 
&gt; status <span style="color:#e6db74">&#39;summary&#39;</span>
&gt; status <span style="color:#e6db74">&#39;detailed&#39;</span> 
</code></pre></div><h4 id="version"><strong>version</strong></h4>
<p>: ì„¤ì¹˜ëœ HBaseì˜ ë²„ì „ì •ë³´ë¥¼ í™•ì¸</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; version 
</code></pre></div><h4 id="whoami"><strong>whoami</strong></h4>
<p>: í˜„ì¬ hbaseì˜ ì‚¬ìš©ìë¥¼ í™•ì¸</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; whoami 
</code></pre></div><br/>
<br/>
<h2 id="2-table-management-commands"><strong>2) Table Management commands</strong></h2>
<h4 id="alter"><strong>alter</strong></h4>
<p>(1) tableì˜ schemaë¥¼ ë³€ê²½í•˜ê¸°ìœ„í•´ ì‚¬ìš©ëœë‹¤. dictionary í˜•íƒœë¡œ ë‚˜ì—´í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span> , NAME&gt;<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;cf1&#39;</span>, VERSIONS&gt;<span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span> 
// <span style="color:#e6db74">&#39;table1&#39;</span>ì˜ <span style="color:#e6db74">&#39;cf1&#39;</span>ì˜ version ì •ë³´ê°€ 5ê¹Œì§€ ì €ì¥ë˜ë„ë¡ ìƒì„±/ë³€ê²½í•œë‹¤. 

&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#f92672">{</span>NAME&gt;<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;cf2&#39;</span>, IN_MEMORY&gt;<span style="color:#f92672">=</span>true<span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>NAME<span style="color:#f92672">=</span>&gt;<span style="color:#e6db74">&#39;cf3&#39;</span>, VERSIONS &gt;<span style="color:#f92672">=</span>5<span style="color:#f92672">}</span>
// <span style="color:#e6db74">&#39;table1&#39;</span> ì— <span style="color:#e6db74">&#39;cf1&#39;</span>ì„ ìƒì„±/ë³€ê²½ í•˜ê³  <span style="color:#e6db74">&#39;IN_MEMORY&#39;</span> ì˜µì…˜ì´ trueì¸ <span style="color:#e6db74">&#39;cf2&#39;</span>ì„ ìƒì„±/ë³€ê²½í•˜ê³ ,
<span style="color:#e6db74">&#39;VERSIONS&#39;</span> ì˜µì…˜ì´ 5ì¸ <span style="color:#e6db74">&#39;cf3&#39;</span>ì„ ìƒì„±/ë³€ê²½í•œë‹¤. 
</code></pre></div><p>(2) column familyë¥¼ ì‚­ì œí•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;delete&#39;</span>&gt;<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;cf1&#39;</span>
// <span style="color:#e6db74">&#39;table1&#39;</span>ì˜ <span style="color:#e6db74">&#39;f1&#39;</span> column familyë¥¼ ì‚­ì œí•œë‹¤. 
</code></pre></div><p>(3) region ì„¤ì •ì„ ë³€ê²½í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, MAX_FILESIZE <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;123217728&#39;</span> 
// regionì˜ ìµœëŒ€ í¬ê¸°ë¥¼ <span style="color:#ae81ff">128</span> MBë¡œ ë³€ê²½í•œë‹¤.
</code></pre></div><p>â€‹
(4) coprocessorë¥¼ ì„¤ì •í•œë‹¤. tableì— ëŒ€í•´ì„œ coprocessorë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ìë™ìœ¼ë¡œ ì‹œí€€ìŠ¤ê°€ ìœ ë‹ˆí¬í•˜ê²Œ ì¶”ê°€ ëœë‹¤. 
coprocessor attributeëŠ” F/Wì´ coprocessor classë¥¼ ì¸ì§€í•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒê³¼ ê°™ì€ íŒ¨í„´ì— ë§ì•„ì•¼ í•œë‹¤. 
- [coprocessor jar file location] | class name | [priority] | [arguments]</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;coprocessor&#39;</span><span style="color:#f92672">=</span>&gt;<span style="color:#e6db74">&#39;hdfs:///foo.jar|com.foo.FooRegionObserver|1001|arg1=1,ar...&#39;</span>
// table coprocessorë¥¼ ì„¤ì •í•œë‹¤. 
</code></pre></div><p>(5) colum familyì— íŠ¹ì •í•œ ì„¤ì •ì„ ì¶”ê°€í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, CONFIGURATION <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;hbase.hregion.scan.loadColumnFamiliesOnDemand&#39;</span> <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;true&#39;</span> <span style="color:#f92672">}</span> 
&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>NAME<span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf2&#39;</span>, CONFIGURATION <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;hbase.hstore.blockingStoreFiles&#39;</span> <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;10&#39;</span><span style="color:#f92672">}}</span>
    // column family <span style="color:#e6db74">&#39;cf2&#39;</span>ì˜ Hfile<span style="color:#f92672">(</span>storeFile<span style="color:#f92672">)</span> ê°¯ìˆ˜ë¥¼ 10ê°œë¡œ ì„¤ì •í•œë‹¤. 
</code></pre></div><p>(6) table-scope ì„¤ì •ì„ ì‚­ì œí•  ìˆ˜ë„ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, METHOD <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;table_att_unset&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;MAX_FILESIZE&#39;</span> // region ìµœëŒ€ í¬ê¸° ì„¤ì •ì„ í•´ì œí•œë‹¤.
&gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, METHOD <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;table_att_unset&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;coprocessor$1&#39;</span> // coprocessor ì„¤ì •ì„ í•´ì œí•œë‹¤. 
</code></pre></div><p>â€‹
(7) ì—¬ëŸ¬ ì„¤ì •ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">â€‹    &gt; alter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span> NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf1&#39;</span>, VERSIONS <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">3</span> <span style="color:#f92672">}</span>, <span style="color:#f92672">{</span> MAX_FILESIZE <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;134217728&#39;</span> <span style="color:#f92672">}</span>, 
â€‹        <span style="color:#f92672">{</span> METHOD <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;delete&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf2&#39;</span><span style="color:#f92672">}</span>, OWNER <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;johndoe&#39;</span>, METADATA <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">{</span> <span style="color:#e6db74">&#39;mykey&#39;</span> <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;myvalue&#39;</span> <span style="color:#f92672">}</span>
</code></pre></div><h4 id="create"><strong>create</strong></h4>
<p>: í…Œì´ë¸”ì„ ìƒì„±í•˜ë©° ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; create <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf1&#39;</span>, VERSIONS <span style="color:#f92672">=</span>&gt; 5<span style="color:#f92672">}</span>
  // table1ì„ ìƒì„±í•˜ë©´ì„œ ìµœì‹ ì˜ versionì„ 5ê°œê¹Œì§€ ì €ì¥í•˜ëŠ” column family cf1ì„ ìƒì„±í•œë‹¤. 

&gt; create <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf1&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf2&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf3&#39;</span><span style="color:#f92672">}</span>
// table1ì„ ìƒì„±í•˜ë©´ì„œ column family cf1, cf2, cf3 ì„ ìƒì„±í•œë‹¤. 

&gt; create <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf2&#39;</span>, VERSION <span style="color:#f92672">=</span>&gt;1, TTL <span style="color:#f92672">=</span>&gt; 2592000, BLOCKCACHE <span style="color:#f92672">=</span>&gt;true<span style="color:#f92672">}</span> 
&gt; create <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf2&#39;</span>, CONFIGURATION <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;hbase.hstore.blockingStoreFiles&#39;</span> <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;10&#39;</span><span style="color:#f92672">}}</span> 
</code></pre></div><p>â€‹</p>
<h4 id="describe"><strong>describe</strong></h4>
<p>: tableì˜ ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; describe <span style="color:#e6db74">&#39;table1&#39;</span> 
</code></pre></div><p>â€‹</p>
<h4 id="enable-disable"><strong>enable /disable</strong></h4>
<p>: tableì„ enable / disable ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">â€‹&gt; enable <span style="color:#e6db74">&#39;table1&#39;</span> 
â€‹&gt; disable <span style="color:#e6db74">&#39;table1&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="enable_all--disable_all"><strong>enable_all / disable_all</strong></h4>
<p>: ë‹¤ìŒê³¼ ê°™ì€ ì •ê·œì‹ ê·œì¹™ì— ë§ëŠ” í…Œì´ë¸”ì— ëŒ€í•´ ëª¨ë‘ enable / disable ì‹œí‚¨ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; enable_all <span style="color:#e6db74">&#39;table_*&#39;</span>
&gt; disable_all <span style="color:#e6db74">&#39;table_*&#39;</span>
</code></pre></div><h4 id="-is_enabled--is_disabled">** is_enabled / is_disabled**</h4>
<p>: enabled / disabled ìƒíƒœì¸ì§€ í™•ì¸í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; is_disabled <span style="color:#e6db74">&#39;table1&#39;</span> 
</code></pre></div><h4 id="drop"><strong>drop</strong></h4>
<p>: tableì„ drop ì‹œí‚¨ë‹¤. ë°˜ë“œì‹œ ë¨¼ì € disableì„ ì‹œì¼œì•¼ í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; drop <span style="color:#e6db74">&#39;table1&#39;</span>
</code></pre></div><h4 id="drop_all"><strong>drop_all</strong></h4>
<p>: ë‹¤ìŒê³¼ ê°™ì€ ì •ê·œì‹ ê·œì¹™ì— ë§ëŠ” í…Œì´ë¸”ì„ ëª¨ë‘ drop í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; drop_all <span style="color:#e6db74">&#39;table1&#39;</span>
</code></pre></div><h4 id="exists"><strong>exists</strong></h4>
<p>: tableì´ ìˆëŠ”ì§€ ì¡°íšŒí•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">    &gt; exists <span style="color:#e6db74">&#39;table1&#39;</span>
</code></pre></div><h4 id="list"><strong>list</strong></h4>
<p>: hbase ì˜ ëª¨ë“  table ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•œë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ì •ê·œì‹ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; list
&gt; list <span style="color:#e6db74">&#39;abc.*&#39;</span> 
</code></pre></div><h4 id="show_filters"><strong>show_filters</strong></h4>
<p>: hbaseì˜ ëª¨ë“  filters ë“¤ì„ ë³´ì—¬ì¤€ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; show_filters 
</code></pre></div><h4 id="alter_status"><strong>alter_status</strong></h4>
<p>: alter ëª…ë ¹ì–´ì˜ ìƒíƒœë¥¼ ë³´ì—¬ì¤€ë‹¤. schemaê°€ ë³€ê²½ë˜ê³  ìˆëŠ” tableë“¤ì˜ ì´ë¦„ê³¼ region ìˆ˜ë¥¼ ë³´ì—¬ì¤€ë‹¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter_status <span style="color:#e6db74">&#39;table1&#39;</span> 
</code></pre></div><h4 id="alter_async"><strong>alter_async</strong></h4>
<p>: ë¹„ë™ê¸°ì ìœ¼ë¡œ alter ëª…ë ¹ì„ ìˆ˜í–‰í•˜ì—¬ schema ë³€ê²½ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; alter_async <span style="color:#e6db74">&#39;t1&#39;</span>, NAME <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;f1&#39;</span>, METHOD <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;delete&#39;</span>or a shorter version:hbase&gt; alter_async <span style="color:#e6db74">&#39;t1&#39;</span>, <span style="color:#e6db74">&#39;delete&#39;</span> <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;f1&#39;</span>
</code></pre></div><br/>
<br/>
<h2 id="3-data-manipulation-commands"><strong>3) Data Manipulation commands</strong></h2>
<h4 id="count"><strong>count</strong></h4>
<p>: tableì˜ row ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤. ì´ ëª…ë ¹ì–´ëŠ” ì˜¤ëœ ì‹œê°„ë™ì•ˆ ìˆ˜í–‰ë˜ëŠ”ë°, mapreduce jobì„ í†µí•´ì„œ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">  : rowì˜ ìˆ˜ëŠ” ë§¤ <span style="color:#ae81ff">1000</span> ë²ˆì§¸ ë§ˆë‹¤ ì¶œë ¥ë˜ëŠ”ë°, ì´ëŸ¬í•œ ì„¤ì •ì€ ì˜µì…˜ì„ í†µí•´ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.
    &gt; count <span style="color:#e6db74">&#39;table1&#39;</span>, INTERVAL <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">100000</span> 
&gt; count <span style="color:#e6db74">&#39;table2&#39;</span>, CACHE <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">1000</span>
&gt; count <span style="color:#e6db74">&#39;table3&#39;</span>, INTERVAL &gt;<span style="color:#f92672">=</span> 10, CACHE <span style="color:#f92672">=</span>&gt;1000
&gt; scan <span style="color:#e6db74">&#39;t1&#39;</span>, <span style="color:#f92672">{</span>RAW <span style="color:#f92672">=</span>&gt; true, VERSIONS <span style="color:#f92672">=</span>&gt; 10<span style="color:#f92672">}</span>
</code></pre></div><p>: ë˜‘ê°™ì€ ëª…ë ¹ì–´ë¥¼ tableì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•  ìˆ˜ë„ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">  &gt; table1.count INTERVAL <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">100000</span> 
  &gt; table1.count CACHE <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">1000</span> 
  &gt; table1.count INTERVAL <span style="color:#f92672">=</span>&gt; 10, CACHE <span style="color:#f92672">=</span>&gt; <span style="color:#ae81ff">1000</span> 
</code></pre></div><h4 id="delete"><strong>delete</strong></h4>
<p>: íŠ¹ì • ì…€ì˜ ê°’ì„ ì‚­ì œí•œë‹¤. ë°˜ë“œì‹œ cellì˜ ê°’ê³¼ ë™ì¼í•˜ê²Œ ì˜µì…˜ì„ ì…ë ¥í•´ì•¼ ì‚­ì œê°€ ëœë‹¤. ë™ì¼í•˜ê²Œ, table ë ˆí¼ëŸ°ìŠ¤ë¡œë„ ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; delete <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cellvalue1&#39;</span>, timestamp#
&gt; table1.delete <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cellvalue1&#39;</span>, timestamp#
</code></pre></div><h4 id="deleteall"><strong>deleteall</strong></h4>
<p>: ì£¼ì–´ì§„ rowì˜ ëª¨ë“  cellì˜ ê°’ì„ ì‚­ì œí•œë‹¤. ë™ì¼í•˜ê²Œ, table ë ˆí¼ëŸ°ìŠ¤ë¡œë„ ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; deleteall <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span> 
&gt; deleteall <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cellvalue1&#39;</span>, timestamp#
&gt; table1.deleteall <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cellvalue1&#39;</span>
&gt; table1.deleteall <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cellvalue1&#39;</span>, timestamp#
</code></pre></div><h4 id="get"><strong>get</strong></h4>
<p>: íŠ¹ì • rowë‚˜ cellì˜ ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•œë‹¤. table ëª…, rowì™€ ê¸°íƒ€ ì˜µì…˜ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. tableì˜ ë ˆí¼ëŸ°ìŠ¤ë¡œë„ ë™ì¼í•˜ê²Œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span> 
&gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>TIMERANGE <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>start_timestamp, end_timestamp<span style="color:#f92672">]}</span>
&gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>COLUMN <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf1&#39;</span>, TIMESTAMP <span style="color:#f92672">=</span>&gt; ts1<span style="color:#f92672">}</span>
&gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>COLUMN <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span>, <span style="color:#e6db74">&#39;cf3&#39;</span><span style="color:#f92672">]</span> , VERSIONS <span style="color:#f92672">=</span>&gt;4 <span style="color:#f92672">}</span>
&gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>FILTER <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;ValueFilter (=, &#39;binary:abc&#39;)&#34;</span><span style="color:#f92672">}</span>
&gt; table1.get <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span>
&gt; table1.get <span style="color:#e6db74">&#39;rowkey2&#39;</span>, <span style="color:#f92672">{</span>COLUMN <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;cf1&#39;</span>, TIMESTAMP <span style="color:#f92672">=</span>&gt; ts2, VERSIONS <span style="color:#f92672">=</span>&gt;4 <span style="color:#f92672">}</span>
&gt; table1.get <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>FILTER <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;ValueFilter(=, &#39;binary:abc&#39;)&#34;</span><span style="color:#f92672">}</span>
</code></pre></div><p>: ê¸°ë³¸ì ìœ¼ë¡œ &lsquo;toStringBinary&rsquo; í¬ë§·ì„ìœ¼ë¡œ getì€ ì»¤ìŠ¤í…€ í¬ë§·ì„ ì§€ì›í•œë‹¤. ì‚¬ìš©ìëŠ” FORMATTERë¥¼ column nameì„ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ëª¨ë“  column familyì˜ columnì— ëŒ€í•´ì„œëŠ” í¬ë§·ì„ ì •ì˜í•  ìˆ˜ ì—†ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">  &gt; get <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#f92672">{</span>COLUMN <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;cf1:qualifier1:tolInt&#39;</span>, <span style="color:#e6db74">&#39;cf2:qualifier2:c(org.apache.hadoop.hbase.util.Bytes).toInt&#39;</span><span style="color:#f92672">]}</span> 
</code></pre></div><h4 id="get_counter"><strong>get_counter</strong></h4>
<p>: table, row, column ì— ëŒ€í•œ cellì˜ ìˆ˜ë¥¼ ë¦¬í„´í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; get_counter <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>
&gt; table1.get_counter <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span> 
</code></pre></div><h4 id="incr"><strong>incr</strong></h4>
<p>: íŠ¹ì •í•œ cellì˜ ê°’ì„ ì¦ê°€ì‹œí‚¨ë‹¤. table ë ˆí¼ëŸ°ìŠ¤ë¡œë„ ë™ì¼í•˜ê²Œ ê°’ì„ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; incr <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span> 
&gt; incr <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey2&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span>, <span style="color:#ae81ff">1</span> 
&gt; incr <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey3&#39;</span>, <span style="color:#e6db74">&#39;cf3&#39;</span>, <span style="color:#ae81ff">10</span>
&gt; table1.incr <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#ae81ff">1</span> 
&gt; table2.incr <span style="color:#e6db74">&#39;rowkey2&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span>, <span style="color:#ae81ff">10</span> 
</code></pre></div><h4 id="put"><strong>put</strong></h4>
<p>: cellì˜ ê°’ì„ ì…ë ¥í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; put <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;value&#39;</span>, ts1 
&gt; t.put <span style="color:#e6db74">&#39;rowkey1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;value&#39;</span>, ts1 
</code></pre></div><h4 id="scan"><strong>scan</strong></h4>
<p>: í…Œì´ë¸”ì˜ ê°’ì„ ì¡°íšŒí•œë‹¤ (=select). ScannerëŠ” TIMERANGE, FILTER, LIMIT, STARTROW, STOPROW, TIMESTAMP, MAXLENGTH ì´ë‚˜
COLUMNS, CACHE ë“±ì˜ ì˜µì…˜ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.ê¸°ë³¸ì ìœ¼ë¡œ &lsquo;toStringBinary&rsquo; í¬ë§·ì´ë‚˜ scan ëª…ë ¹ì–´ëŠ” ì»¤ìŠ¤í…€ í¬ë§·ì„ ì§€ì›í•œë‹¤. 
column familyì˜ ëª¨ë“  ê°’ë“¤ì„ ì¡°íšŒí•˜ê³ ì í• ë•ŒëŠ” qualifierë¥¼ ë¹„ì›Œë‘ë©´ ëœë‹¤(ex. &lsquo;cf1:'). í•„í„°ëŠ” ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p>
<p>â€‹1) fiterString ì‚¬ìš© (hbase-4176)</p>
<p>â€‹2) filterì˜ ì „ì²´ package ëª… ì‚¬ìš©</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">â€‹&gt; scan <span style="color:#e6db74">&#39;.META.&#39;</span> 
â€‹&gt; scan <span style="color:#e6db74">&#39;.META.&#39;</span>, <span style="color:#f92672">{</span>COLUMNS <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;info:regioninfo&#39;</span><span style="color:#f92672">}</span>
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>COLUMNS <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span><span style="color:#f92672">]</span>, LIMIT <span style="color:#f92672">=</span>&gt;10, STARROW <span style="color:#f92672">=</span>&gt;<span style="color:#e6db74">&#39;xyz&#39;</span><span style="color:#f92672">}</span>
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>COLUMNS <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#39;c1&#39;</span>, TIMERANGE <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span>ts1, ts2<span style="color:#f92672">]}</span>
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>FILTER <span style="color:#f92672">=</span>&gt; <span style="color:#e6db74">&#34;(PrefixFilter (&#39;row2&#39;) AND (QualifierFilter (&gt;=, &#39;binary:xyz&#39;)))&#34;</span> AND <span style="color:#f92672">(</span>TimestampsFilter <span style="color:#f92672">(</span>123, 456<span style="color:#f92672">))}</span>
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>COLUMN <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;cf1:qualifier1:tolInt&#39;</span>, <span style="color:#e6db74">&#39;cf2:qualifier2:c(org.apache.hadoop.hbase.util.Bytes).toInt&#39;</span><span style="color:#f92672">]}</span> 
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>FILTER <span style="color:#f92672">=</span>&gt; org.apache.hadoop.hbase.filter.ColumnPaginationFilter.new<span style="color:#f92672">(</span>1,0<span style="color:#f92672">)}</span> 
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>COLUMNS <span style="color:#f92672">=</span>&gt; <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;cf2&#39;</span><span style="color:#f92672">]</span>, CACHE_BLOCKS &gt;<span style="color:#f92672">=</span>false<span style="color:#f92672">}</span>
â€‹&gt; scan <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#f92672">{</span>RAW <span style="color:#f92672">=</span>&gt; true, VERSIONS <span style="color:#f92672">=</span>&gt;10<span style="color:#f92672">}</span>
â€‹        // RAW ëª…ë ¹ì–´ëŠ” delete markerê°€ í‘œì‹œëœ ê²ƒ, ì‚­ì œë˜ì—ˆì§€ë§Œ ì§‘ê³„ë˜ì§€ ì•Šì€ ê²ƒì„ í¬í•¨í•˜ì—¬ ëª¨ë“  cellì˜ ê°’ë“¤ì„ ê°€ì ¸ì˜¨ë‹¤. 

â€‹&gt; t <span style="color:#f92672">=</span> get_table <span style="color:#e6db74">&#39;table1&#39;</span>
â€‹&gt; t.scan 
</code></pre></div><h4 id="truncate"><strong>truncate</strong></h4>
<p>: tableì„ disable, drop í›„ ì¬ ìƒì„±í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt;truncate <span style="color:#e6db74">&#39;table1&#39;</span> 
</code></pre></div><br/>
<br/>
<h2 id="4-hbase-surgery-tools"><strong>4) HBase surgery tools</strong></h2>
<h4 id="assign"><strong>assign</strong></h4>
<p>: regionì„ assigní•œë‹¤. ë§Œì•½ regionì´ ì´ë¯¸ í• ë‹¹ë˜ì–´ ìˆë‹¤ë©´ ì´ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ê°•ì œë¡œ ì¬í• ë‹¹ì´ ì´ë£¨ì–´ì§„ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; assign <span style="color:#e6db74">&#39;REGION_NAME&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="balancer"><strong>balancer</strong></h4>
<p>: í´ëŸ¬ìŠ¤í„° balancerë¥¼ íŠ¸ë¦¬ê±° í•œë‹¤. balancerê°€ í• ë‹¹ë˜ì§€ ì•Šì€ ëª¨ë“  regionë“¤ì„ ë°¸ëŸ°ì‹± í•  ìˆ˜ ìˆë„ë¡ ì „ë‹¬ë˜ì—ˆìœ¼ë©´
trueë¥¼ ë¦¬í„´í•˜ê³ , region ì´ë™ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ falseê°€ ì¶œë ¥ëœë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; balancer 
</code></pre></div><p>â€‹</p>
<h4 id="balancer_switch-truefalse"><strong>balancer_switch true/false</strong></h4>
<p>: balancer ë¥¼ í™œì„±í™”/ë¹„í™œì„±í™” ì‹œí‚¨ë‹¤. ì´ì „ì˜ balancer ìƒíƒœë¥¼ ë¦¬í„´í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; balance_switch true
&gt; balance_switch false
</code></pre></div><h4 id="close_region"><strong>close_region</strong></h4>
<p>: í•˜ë‚˜ì˜ regionì„ ë‹«ëŠ”ë‹¤. hmasterì—ê²Œ regionì„ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë‹«ì„ ê²ƒì„ ìš”ì²­í•˜ê±°ë‚˜ ë§Œì•½ì— íŠ¹ì • ì„œë²„ëª…ì´ ì£¼ì–´ì¡Œë‹¤ë©´ í•´ë‹¹ regionserverì—ì„œ regionì„ ì§ì ‘ ì œì™¸í•˜ë„ë¡ ìš”ì²­í•œë‹¤. regionì„ ë‹«ìœ¼ë©´ì„œ hmasterëŠ” regionëª…ì„ í™•ì¸í•œë‹¤. regionserverì— ì§ì ‘   regionì„ ë‹«ì„ ê²ƒì„ ìš”ì²­í•˜ëŠ” ê²½ìš° regionì˜ ì•”í˜¸í™”ëœ ì½”ë“œë§Œ ì…ë ¥í•˜ë©´ ëœë‹¤.</p>
<p>regionì˜ ì´ë¦„ì€ TestTable, 0094429456, 1289497600452.527db22f95c8a9e0116f0cc13c68&rsquo;ê³¼ ê°™ì´ ìˆëŠ”ë° ë’·ë¶€ë¶„ì¸ 527db22f95c8a9e0116f0cc13c68&rsquo; ë§Œ ì…ë ¥í•´ì£¼ë©´ ëœë‹¤. ì•”í˜¸í™”ëœ regionëª…ì€ regionì´ë¦„ì˜ í•´ì‹œê°’ì´ë‹¤. ì„œë²„ëª…ê³¼ ê°™ì´ portì™€ startcodeë¡œ ë¥¼ ì „ë‹¬í•˜ëŠ” ê²½ìš°ëŠ” í•´ë‹¹ regionserverì—ì„œ regionì„ ë‹«ê²Œ ëœë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; close_region <span style="color:#e6db74">&#39;527db22f95c8a9e0116f0cc13c68&#39;</span>
&gt; close_region <span style="color:#e6db74">&#39;527db22f95c8a9e0116f0cc13c68&#39;</span>, <span style="color:#e6db74">&#39;host187.example.com,60020,1289493121758&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="compact"><strong>compact</strong></h4>
<p>: ì „ë‹¬ëœ ëª¨ë“  tableì˜ regionë“¤ì„ comactionì„ ìˆ˜í–‰í•œë‹¤. region í•˜ë‚˜ì”© comaction ìˆ˜í–‰ ê°€ëŠ¥í•˜ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; compact <span style="color:#e6db74">&#39;table1&#39;</span> // í•´ë‹¹ tableì˜ ëª¨ë“  regionì„ comactionì„ í•œë‹¤. 
&gt; compact <span style="color:#e6db74">&#39;region1&#39;</span> // ì „ì²´ regionì„ comactionì„ ìˆ˜í–‰í•œë‹¤. 
&gt; compact <span style="color:#e6db74">&#39;region1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span> // í•´ë‹¹ regionì˜ column familyë§Œ comactionì„ ìˆ˜í–‰ í•œë‹¤. 
&gt; compact <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span> // í•´ë‹¹ í…Œì´ë¸”ì˜ column familyë§Œ comactionì„ ìˆ˜í–‰í•œë‹¤. 
</code></pre></div><h4 id="flush"><strong>flush</strong></h4>
<p>: tableì˜ ëª¨ë“  regionë‚˜, í•˜ë‚˜ì˜ regionì— ëŒ€í•´ì„œ flush(memstore to storefile) ë¥¼ ìˆ˜í–‰í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; flush <span style="color:#e6db74">&#39;table1&#39;</span>
&gt; flush <span style="color:#e6db74">&#39;region1&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="major_compact"><strong>major_compact</strong></h4>
<p>: íŠ¹ì • tableì— ëŒ€í•´ì„œ major comactionì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ê°œë³„ regionì— ëŒ€í•´ì„œ major compaction ìˆ˜í–‰í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; major_compact <span style="color:#e6db74">&#39;table1&#39;</span>
&gt; major_compact <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>
&gt; major_compact <span style="color:#e6db74">&#39;region1&#39;</span>
</code></pre></div><h4 id="move"><strong>move</strong></h4>
<p>: regionì„ ì´ë™ì‹œí‚¨ë‹¤. ì˜µì…˜ìœ¼ë¡œ íƒ€ê²Ÿ regionserverë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° ë”°ë¡œ ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ ëœë¤ìœ¼ë¡œ ì´ë™í•œë‹¤.
encoded region nameê³¼ ì„œë²„ëª…ìœ¼ë¡œ host,port, startcodeë¥¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; move <span style="color:#e6db74">&#39;527db22f95c8a9e0116f0cc13c680396&#39;</span> 
&gt; move <span style="color:#e6db74">&#39;527db22f95c8a9e0116f0cc13c680396&#39;</span> <span style="color:#e6db74">&#39;host187.example.com,60020,1289493121758&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="splite"><strong>splite</strong></h4>
<p>: ì „ì²´ tableì„ split í•˜ê±°ë‚˜ í•˜ë‚˜ì˜ regionì„ split ìˆ˜í–‰í•œë‹¤. ì¶”ê°€ì ì¸ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë° regionì˜ split keyë¥¼ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; split <span style="color:#e6db74">&#39;table1&#39;</span>
&gt; split <span style="color:#e6db74">&#39;region1&#39;</span>, 
&gt; split â€˜regionName<span style="color:#e6db74">&#39; # format: â€˜tableName,startKey,id&#39;</span>
&gt; split â€˜tableName<span style="color:#e6db74">&#39;, â€˜splitKey&#39;</span>
&gt; split â€˜regionName<span style="color:#e6db74">&#39;, â€˜splitKey&#39;</span>
</code></pre></div><h4 id="unassign"><strong>unassign</strong></h4>
<p>: regionì„ í• ë‹¹ í•´ì œí•œë‹¤. í• ë‹¹ í•´ì œëœ regionì€ ìœ„ì¹˜í•˜ê³  ìˆëŠ” regionserverì—ì„œ close ìƒíƒœë¡œ ë³€ê²½ë˜ê³  ë‹¤ì‹œ open ìƒíƒœë¡œ ë³€ê²½ëœë‹¤. 
ë§Œì•½ true ì˜µì…˜ê³¼ ê°™ì´ ìˆ˜í–‰í•˜ë©´ ì¬í• ë‹¹ í•˜ê¸° ì „ì— hmaster ì•ˆì˜ in-memory ìƒíƒœë¥¼ ì œê±°í•œë‹¤. ë§Œì•½ ì¤‘ë³µìœ¼ë¡œ assign ë˜ì–´ ìˆë‹¤ë©´
hbck -fixë¥¼ ìˆ˜í–‰í•˜ì—¬ í•´ê²°í•´ì•¼ í•˜ë©°, í•´ë‹¹ ì‘ì—…ì€ ì‹ ì¤‘í•˜ê²Œ í•´ì•¼ í•œë‹¤. criticalí•œ ìƒí™©ì´ ì•„ë‹ˆê±°ë“  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; unassign <span style="color:#e6db74">&#39;myregion1&#39;</span> 
&gt; unassign <span style="color:#e6db74">&#39;myregion1&#39;</span>, true
</code></pre></div><p>â€‹</p>
<h4 id="hlog_roll"><strong>hlog_roll</strong></h4>
<p>: log writerë¥¼ ìƒˆë¡œìš´ íŒŒì¼ì— ì“¸ìˆ˜ ìˆë„ë¡ ë¡¤ë§ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt;hlog_roll 
</code></pre></div><p>â€‹</p>
<h4 id="zk_dump"><strong>zk_dump</strong></h4>
<p>: zookeeper ê°€ ë°”ë¼ë³´ëŠ” hbase í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ í™•ì¸í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt;zk_dump
</code></pre></div><br/>
â€‹<br/>
<h2 id="5-cluster-replication-tools"><strong>5) Cluster replication tools</strong></h2>
<h4 id="add_peer"><strong>add_peer</strong></h4>
<p>: ë³µì œreplicationë¥¼ ìœ„í•œ ì§peerì„ ì¶”ê°€í•œë‹¤. idëŠ” ë°˜ë“œì‹œ ì§§ì•„ì•¼ í•˜ê³  cluster keyê°€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.
&lsquo;hbase.zookeeper.quorum:hbase.zookeeper.property.clientPort:zookeeper.znode.parent&rsquo;)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">â€‹   &gt; add_peer <span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#34;server1.cie.com:2181:/hbase&#34;</span>
â€‹&gt; add_peer <span style="color:#e6db74">&#39;2&#39;</span>, <span style="color:#e6db74">&#34;zk1,zk2,zk3:2182:/hbase-prod&#34;</span>
</code></pre></div><h4 id="remove_peer"><strong>remove_peer</strong></h4>
<p>: replication streamì„ ì¤‘ì§€í•˜ê³  ê·¸ê²ƒê³¼ ê´€ë ¨ëœ ë©”íƒ€ì •ë³´ë¥¼ ì‚­ì œí•œë‹¤.</p>
<blockquote>
<p>remove_peer &lsquo;1&rsquo;</p>
</blockquote>
<h4 id="list_peers"><strong>list_peers</strong></h4>
<p>: cluster ìƒì˜ ëª¨ë“  replication peerë¥¼ í™•ì¸í•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; list_peers
</code></pre></div><p>â€‹</p>
<h4 id="enable_peerdisable_peer"><strong>enable_peer/disable_peer</strong></h4>
<p>: íŠ¹ì • peerë¡œì˜ ë³µì œì‘ì—…ì„ ì‹œì‘/ì¤‘ì§€ì‹œí‚¨ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; enable_peer <span style="color:#e6db74">&#39;1&#39;</span>
    &gt; disable_peer <span style="color:#e6db74">&#39;1&#39;</span>
</code></pre></div><h4 id="start_replicationstop_replication"><strong>start_replication/stop_replication</strong></h4>
<p>**  : ë“±ë¡ëœ ëª¨ë“  replicationì„ (ì¬)ì‹œì‘ / ì¤‘ì§€í•œë‹¤. ë§¤ìš° ê¸´ê¸‰í•œ ìƒí™©ì´ ì•„ë‹ˆê³ ì„œ ì“°ì§€ ì•ŠëŠ” ëª…ë ¹ì´ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">    &gt; start_replication
&gt; stop_replication 
</code></pre></div><br/>
<br/>
<h2 id="6-security-tools"><strong>6) Security tools</strong></h2>
<h4 id="grant"><strong>grant</strong></h4>
<p>: userë“¤ì—ê²Œ íŠ¹ì • ê¶Œí•œì„ ë¶€ì—¬í•œë‹¤. &lsquo;RWXCA&rsquo;ì„ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œë¶€ì—¬ ê°€ëŠ¥í•˜ë‹¤(READ(â€˜Râ€™), WRITE(â€˜Wâ€™), EXEC(â€˜Xâ€™), CREATE(â€˜Câ€™), ADMIN(â€˜Aâ€™)).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; grant <span style="color:#e6db74">&#39;paul&#39;</span>, <span style="color:#e6db74">&#39;RWXCA&#39;</span>
&gt; grant <span style="color:#e6db74">&#39;parker&#39;</span>, <span style="color:#e6db74">&#39;RW&#39;</span> <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;qualifier1&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="revoke"><strong>revoke</strong></h4>
<p>: ì‚¬ìš©ìì˜ ì ‘ê·¼ ê¶Œí•œì„ ì‚­ì œí•œë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; revoke <span style="color:#e6db74">&#39;parker&#39;</span>, <span style="color:#e6db74">&#39;table1&#39;</span>, <span style="color:#e6db74">&#39;cf1&#39;</span>, <span style="color:#e6db74">&#39;qualifier1&#39;</span>
</code></pre></div><p>â€‹</p>
<h4 id="user_permission"><strong>user_permission</strong></h4>
<p>: íŠ¹ì • í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê¶Œí•œì„ ë³´ì—¬ì¤€ë‹¤.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-shell" data-lang="shell">&gt; user_permission <span style="color:#e6db74">&#39;table1&#39;</span> 
</code></pre></div><p>â€‹</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/hbase/" rel="tag">hbase</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bigdata/hbase/20180711_hbase_write_ahead_log/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">[HBase] WAL(Write Ahead Log)ë¥¼ ì´ìš©í•œ region ë³µêµ¬</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 PS Tech study.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>